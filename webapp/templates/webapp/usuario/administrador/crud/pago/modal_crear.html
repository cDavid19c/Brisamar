<div class="modal fade" id="modalCrearPago" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title">Registrar Nuevo Pago</h5>
                <button type="button" class="btn-close custom-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">

                <div class="row">
                    <!-- ID Pago (autogenerado) -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label">ID Pago *</label>
                        <input type="number"
                               id="crear_IdPago"
                               class="form-control readonly-input"
                               readonly
                               placeholder="Se generará automáticamente">
                    </div>

                    <!-- Método de Pago (Select2) -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Método de Pago *</label>
                        <select id="crear_IdMetodoPago" class="form-select">
                            <option value="">Buscar método de pago...</option>
                        </select>
                    </div>

                    <!-- Factura (Select2) -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Factura *</label>
                        <select id="crear_IdFactura" class="form-select">
                            <option value="">Buscar factura...</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <!-- Usuario Interno (Select2) -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Usuario Interno *</label>
                        <select id="crear_IdUnicoUsuario" class="form-select">
                            <option value="">Buscar usuario interno...</option>
                        </select>
                    </div>

                    <!-- Monto -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Monto Total *</label>
                        <input type="number"
                               id="crear_MontoTotal"
                               class="form-control"
                               min="0.01"
                               step="0.01"
                               placeholder="Ej: 25.50"
                               required
                               oninput="
                                // impedir valores negativos o cero
                                let v = this.value.replace(',', '.');
                                if (v === '') { return; }
                                let n = parseFloat(v);
                                if (isNaN(n) || n <= 0) {
                                    this.value = '';
                                } else {
                                    this.value = v;
                                }
                           ">
                    </div>

                    <!-- (No se usa usuario externo en este CRUD) -->
                </div>

                <div class="row">
                    <!-- Cuenta Origen (OBLIGATORIA) -->
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Cuenta Origen *</label>
                        <input type="text"
                               id="crear_CuentaOrigen"
                               class="form-control"
                               maxlength="100"
                               required
                               placeholder="Ej: Tarjeta XXXX-1234">
                    </div>

                    <!-- Cuenta Destino (OBLIGATORIA) -->
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Cuenta Destino *</label>
                        <input type="text"
                               id="crear_CuentaDestino"
                               class="form-control"
                               maxlength="100"
                               required
                               placeholder="Ej: Banco Hotel">
                    </div>
                </div>

                <div class="form-check mt-3">
                    <input type="checkbox" id="crear_EstadoPago" class="form-check-input" checked>
                    <label class="form-check-label" for="crear_EstadoPago">
                        Pago Completo / Activo
                    </label>
                </div>

            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button class="btn btn-success" onclick="crearPago()">Guardar Pago</button>
            </div>

        </div>
    </div>
</div>
